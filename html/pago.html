<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Resumen de Compra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- ENCABEZADO -->
  <header>
    <img src="../img/Logo-Futbuseras-FC.jpg" alt="Logo Futbuseras FC" class="logo-header" />
    <h1>Resumen de Compra</h1>
    <div class="pelota-wrapper">
      <div class="pelota-container">
        <div class="estela estela-1"></div>
        <div class="estela estela-2"></div>
        <div class="estela estela-3"></div>
        <img src="../img/pelota.png" alt="Pelota" class="pelota" />
      </div>
    </div>
    <p class="lema">"Gracias por apoyar a Futbuseras FC"</p>
  </header>

  <!-- RESUMEN -->
  <section>
    <h2>Detalle de tu compra</h2>
    <ul id="resumen"></ul>
    <p id="total"></p>

    <h2>Método de Pago</h2>
    <select id="metodoPago">
      <option value="WebPay">WebPay</option>
      <option value="Transferencia">Transferencia Bancaria</option>
    </select>

    <button onclick="confirmarPago()">Pagar</button>
  </section>

  <!-- PIE DE PÁGINA -->
  <footer>
    <p>&copy; 2025 Futbuseras FC - Todos los derechos reservados</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    const resumen = document.getElementById("resumen");
    const totalElemento = document.getElementById("total");
    let total = 0;

    // Mostrar productos
    carrito.forEach(producto => {
      const li = document.createElement("li");
      li.textContent = `${producto.nombre} - $${producto.precio} CLP`;
      resumen.appendChild(li);
      total += producto.precio;
    });

    totalElemento.textContent = `Total: $${total} CLP`;

    function confirmarPago() {
      const metodo = document.getElementById("metodoPago").value;

      if (carrito.length === 0) {
        alert("El carrito está vacío.");
        return;
      }

      localStorage.setItem("metodoPago", metodo);

      if (metodo === "WebPay") {
        window.location.href = "webpay.html";
      } else {
        window.location.href = "pago-exitoso.html";
      }
    }
  </script>

</body>
</html>
